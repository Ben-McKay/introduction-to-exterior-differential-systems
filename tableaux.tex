\chapter{Tableaux}\label{chapter:tableaux}
\chapterSummary{A \emph{tableau} is a computational tool to organize the linear algebra needed to uncover the characters of an exterior differential system.}

\section{Example}
\begin{example}
Recall triply orthogonal webs~\vpageref{page:triply.orthogonal.web}: an exterior differential system generated by \(1\)-forms \(\theta^a\) and by \(3\)-forms of the form
\[
\omega^{12}\wedge\pi^3, \omega^{31}\wedge\pi^2, \omega^{23}\wedge\pi^1, 
\]
with coframe \(\theta^a,\omega^i,\pi^{\alpha}\).
Write these \(3\)-forms as rows of a matrix wedge product:
\[
\begin{pmatrix}
\pi^3 & 0 & 0 \\
0 & \pi^2 & 0 \\
0 & 0 & \pi^1
\end{pmatrix}\wedge
\begin{pmatrix}
\omega^{12}\\
\omega^{13}\\ 
\omega^{23}
\end{pmatrix}
\]
\end{example}

\section{Definition}
Take an exterior differential system \(\II\) on a manifold \(M\) and a point \(m\in M\).
We are looking for \(p\)-dimensional integral manifolds.
Let \[\II_m\defeq\set{\vartheta_m\in \Lm{*}{T_m^*M}|\vartheta\in\II}.\]
We carry out all of our work below modulo the ideal \((\II_m^1)\subseteq \II_m\).
\begin{enumerate}
\item
Take a basis \(\omega^i,\pi^{\alpha}\) of \(T^*_m M/\II^1_m\).
\item
Write a set of forms generating \(\II_m/(\II^1_m)\) in a column
\[
\vartheta=
\begin{pmatrix}
\vartheta^1\\
\vartheta^2\\
\vdots\\
\vartheta^r
\end{pmatrix}.
\]
\item
Let \(\omega^{ij}\defeq\omega^i\wedge \omega^j\), and so on.
Let
\[
\omega=
\begin{gradedIndependents}
\omega^1
\+
\omega^2\\
\omega^{12}
\+
\omega^3\\
\omega^{13}\\
\omega^{23}\\
\omega^{123}
\+
\vdots
\+
\omega^p\\
\vdots\\
\omega^{1\cdots p}
\end{gradedIndependents},
\]
a column vector of all wedge products of the \(\omega^i\).
Arrange by grades: grade \(j\) consists of all forms \(\omega^{\cdots j}\) which are wedge products of \(1\)-forms from among \(\omega^1,\dots,\omega^j\), and must contain \(\omega^j\).
We sometimes mark grades with horizontal lines.
Drop any entry of \(\omega\) if it doesn't appear in the forms \(\vartheta^a\) in our generating set, expanded in our basis.
\item
Write out \(\vartheta=\varpi\wedge\omega+\dots\) for a matrix \(\varpi\), the \emph{tableau}\define{tableau}, so that each matrix entry is a linear combination of \(\pi^{\alpha}\), and the \(\dots\) consists of
\begin{enumerate}
\item
terms with no \(\pi^{\alpha}\) \(1\)-form wedged into them, the \emph{torsion} and
\item
terms with two or more \(\pi^{\alpha}\) \(1\)-forms wedged into them, the \emph{nonlinearity}.
\end{enumerate}
We sometimes draw vertical lines in \(\varpi\), marking out grades at widths matching the grade heights in \(\omega\).
The nonlinearity we assign grade \(p\).
\item
A \emph{polar}\define{polar} is an entry of \(\varpi\) linearly independent of all entries found in all earlier grades and above in the same grade.
Highlight all polars in \(\varpi\).
In practice, these are often precisely the \(\pi^{\alpha}\) of our basis; we can always change basis to arrange this.
\item
Take any basis of \(\II^1_m\); declare the basis elements to be polars of grade zero.
\item
The \emph{character}\define{character} \(s_j\) of the tableau is the number of polars in grade \(j\).
\end{enumerate}
\begin{example}
Suppose \(\II\) is an exterior differential system spanned by
\begin{align*}
\text{\(1\)-forms } & \theta^1,\theta^2,\theta^3, \\
\text{a \(2\)-form } & \theta^1\wedge\omega^3+\omega^1\wedge\pi^1+\omega^2\wedge\pi^2+\omega^3\wedge\pi^3 \text{ and}\\
\text{a \(3\)-form } &\pi^{123}-\omega^{12}\wedge\pi^3+\omega^{13}\wedge\pi^2-\omega^{23}\wedge\pi^1,
\end{align*}
for a coframe
\[
\theta^1,\theta^2,\theta^3,\omega^1,\omega^2,\omega^3,\pi^1,\pi^2,\pi^3.
\]
Dropping multiples of the \(\theta^a\):
\begin{align*}
\text{no \(1\)-forms } &  \\
\text{a \(2\)-form } & \omega^1\wedge\pi^1+\omega^2\wedge\pi^2+\omega^3\wedge\pi^3 \text{ and}\\
\text{a \(3\)-form } &-\omega^{12}\wedge\pi^3+\omega^{13}\wedge\pi^2-\omega^{23}\wedge\pi^1 + \dots.
\end{align*}
So modulo \(\theta^1,\theta^2,\theta^3\):
\begin{align*}
\vartheta
&=
\begin{pmatrix}
\omega^1\wedge\pi^1+\omega^2\wedge\pi^2+\omega^3\wedge\pi^3 \\
-\omega^{12}\wedge\pi^3+\omega^{13}\wedge\pi^2-\omega^{23}\wedge\pi^1
\end{pmatrix}
+
\begin{pmatrix}
0\\
\pi^{123}
\end{pmatrix},
\\
&=
-
\Tablo{%
*\pi^1,!*\pi^2,     0,!\pi^3,     0,0;
     0,      0,*\pi^3,    0,-\pi^2,\pi^1}[1,,1,,,0]
\wedge
\begin{gradedIndependents}
\omega^1\+
\omega^2\\ \omega^{12}\+
\omega^3\\ \omega^{13}\\ \omega^{23}
\end{gradedIndependents}
+
\begin{pmatrix}
0\\
\pi^{123}
\end{pmatrix}.
\end{align*}
\end{example}
\begin{example}
Recall that Lagrangian\SubIndex{Lagrangian submanifold} submanifolds are integral manifolds of
\begin{align*}
\vartheta 
&\defeq dx^1 \wedge dy^1  + dx^2 \wedge dy^2  + \dots + dx^n \wedge dy^n,
\\
&=\Tablo{*\pi^1,*\pi^2,.,*\pi^n}(1,2,.,n)[1,1,.,1]
\wedge
\begin{pmatrix}
\omega^1 \\
\omega^2 \\
\vdots \\
\omega^n
\end{pmatrix}
\end{align*}
with \(\omega^i\defeq dx^i\), \(\pi^i\defeq dy^i\).
\end{example}
\begin{example}
On \(M=\R[5]_{x,y,u,u_x,u_y}\), let \(\II\) be generated by 
\begin{align*}
\theta & \defeq du-u_x \, dx - u_y \, dy, \\
\vartheta &\defeq du_x \wedge dy - du_y \wedge dx,
\end{align*}
and note
\[
d\theta = -du_x \wedge dx -du_y \wedge dy
\]
also belongs to \(\II\).
An integral surface \(X\) on which \(0 \ne dx \wedge dy\) is locally the graph of a harmonic function \(u=u(x,y)\) and its derivatives \(u_x = \pderiv{u}{x}\), \(u_y = \pderiv{u}{y}\).
Taking 
\[
\omega^1\defeq dx, \omega^2\defeq dy, \pi^1\defeq du_x, \pi^2\defeq -du_y,
\]
gives tableau
\[
\begin{pmatrix}
d\theta\\
\vartheta
\end{pmatrix}
=-\Tablo{*\pi^1,-\pi^2;*\pi^2,\pi^1}
\wedge
\begin{pmatrix}
\omega^1\\
\omega^2
\end{pmatrix}.
\]
\end{example}
\prob{tableux:fol}{As in our example of triply orthogonal webs, construct an exterior differential system whose integral \(4\)-manifolds are foliations of open subsets of \(3\)-dimensional Euclidean space.
Write out the tableau and find the characters.}
\begin{answer}{tableux:fol}
We can ask that \(e_1\) be perpendicular to the leaves of our foliation.
(If you use \(e_3\) instead of \(e_1\) here, you will find it more complicated to write out the tableau.)
So then \(\omega_1\wedge d\omega_1=0\) on the foliation.
Expand out 
\[
d\omega_1=-\gamma_{12}\wedge\omega_2-\gamma_{13}\wedge\omega_3
\]
to arrive at the tableau
\[
\Tablo{!*\gamma_{12},!*\gamma_{13}}
\wedge
\begin{gradedIndependents}
\emptyGrade
\omega_1\wedge\omega_2\+
\omega_1\wedge\omega_3
\end{gradedIndependents}.
\]
so \(s_1=0,s_2=1,s_3=1\), foliations of open sets of \(3\)-dimensional Euclidean space depend on \(1\) function of \(3\) variables.
We can see them as the level sets of \(1\) function of \(3\) variables, but the function is defined only up to composition with a strictly increasing or strictly decreasing function.
\end{answer}

\section{Torsion}
The tableau is \emph{adapted}\define{adapted tableau} to the flag
\[
E_j\defeq(0=\theta^a=\pi^{\alpha}=\omega^{j+1}=\dots=\omega^p).
\] 
Any flag has many tableau adapted to it.
\prob{tableaux:polar}{What are the polar equations of each \(E_j\)? Prove that the characters as defined above are the characters as defined in chapter~\ref{chapter:eds}, and the polars are a basis of the polar equations.}
\begin{answer}{tableaux:polar}
The polar equations of \(E_j\) are given by setting \(\omega^i=0\) for \(i>j\), and plugging in, with \(\pi^{\alpha}=0\) on \(E_j\), so all terms with 2 or more \(\pi\) vanish, i.e. the polars in grades \(0,1,2,\dots,j\).
Hence the characters of \(E_p\) are the numbers of polars in each grade.
\end{answer}
\begin{problem}{eds:torsion}
Prove that torsion vanishes just when the flag is integral.
\end{problem}
\begin{example}
Take an exterior differential system generated by \(1\)-forms \(\theta^1,\theta^2\) with
\[
d
\begin{pmatrix}
\theta^1 \\
\theta^2 
\end{pmatrix}
=
-
\begin{pmatrix}
\freeDeriv{\pi^1} & 0 \\
\freeDeriv{\pi^2} & \freeDeriv{\pi^3}
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1 \\
\omega^2
\end{pmatrix}
+
\begin{pmatrix}
\omega^{12}\\
0
\end{pmatrix}
\mod{\theta^1, \theta^2}.
\]
Note that \(d\theta^1,d\theta^2\) generate \(\II/(\II^1)\).
The term \(\omega^{12}\) is the torsion, as it has no \(\pi\) in it.

Let \(\otpi^1\defeq\pi^1 + \omega^2\) and write the system equivalently as
\[
d
\begin{pmatrix}
\theta^1 \\
\theta^2 
\end{pmatrix}
=
-
\begin{pmatrix}
\freeDeriv{\otpi^1} & 0 \\
\freeDeriv{\pi^2} & \freeDeriv{\pi^3}
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1 \\
\omega^2
\end{pmatrix}
\mod{\theta^1, \theta^2};
\]
we \emph{absorb} the torsion.\define{absorbing torsion}
\end{example}
Changing bases to arrange that torsion vanishes is \emph{absorbing the torsion}\define{torsion!absorbing}
A tableau can only examine integral elements coframed by the \(\omega^i\).
Torsion absorbs just when there is such an integral element.

The exterior differential system \(\II\) is the true fundamental geometric object; the choice of tableau is like a choice of coordinate system: a magnifying glass with which to examine \(\II\).

\section{Borrowing}
\begin{example}
Recall triply orthogonal webs~\vpageref{page:triply.orthogonal.web} had exterior differential system generated by \(1\)-forms \(\theta^a\) and by \(3\)-forms of the form
\[
\omega^{12}\wedge\pi^3, \omega^{31}\wedge\pi^2, \omega^{23}\wedge\pi^1, 
\]
with coframe \(\theta^a,\omega^i,\pi^{\alpha}\):
\[
\Tablo{!*\pi^3,!0,0;0,*\pi^2,0;0,0,*\pi^1}(2,,3)[1,,2]
\wedge
\begin{gradedIndependents}
\emptyGrade
\omega^{12}\+
\omega^{13}\\ 
\omega^{23}
\end{gradedIndependents}
\]
\emph{Warning:} these \(s_1,s_2,s_3\) are \emph{not} the characters we computed in chapter~\ref{chapter:eds}.
\end{example}
\begin{example}
Reconsider the same example, with new choices of \(1\)-forms \(\omega^i\).
Let \(\qf^1\defeq\omega^1\), \(\qf^2\defeq\omega^2\), \(\qf^3\defeq\omega^1-\omega^2+\omega^3\).
Write this as
\[
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}
=
\begin{pmatrix}
\qf^1\\
\qf^2\\
-\qf^1+\qf^2+\qf^3
\end{pmatrix}.
\]
In these \(1\)-forms, the tableau is:
\[
\Tablo{!*\pi^3,!0,0;*\pi^2,0,0;*\pi^1,0,0}(2,,3)[3,,0]
\wedge
\begin{gradedIndependents}
\emptyGrade
\qf^{12}\+
\qf^{13}\\ 
\qf^{23}
\end{gradedIndependents}
\]
These \emph{are} the characters we computed in chapter~\ref{chapter:eds}.
We have \emph{borrowed}\define{borrow polars} polars from later grades into earlier.
We change the choice of integral flag from
\begin{align*}
E_1&=(0=\omega^2=\omega^3=\theta^a=\pi^{\alpha}),\\
E_2&=(0=\omega^3=\theta^a=\pi^{\alpha}),\\
E_3&=(0=\theta^a=\pi^{\alpha}),
\end{align*}
to
\begin{align*}
\ot{E}_1&=(0=\qf^2=\qf^3=\theta^a=\pi^{\alpha})\\
\ot{E}_2&=(0=\qf^3=\theta^a=\pi^{\alpha}),\\
E_3&=(0=\theta^a=\pi^{\alpha}) \text{ unchanged.}
\end{align*}
\end{example}
\prob{eds:characters.flag}{Prove that the characters depend only on the flag.}
The \emph{generic} integral flag has largest \(s_1\), and subject to that \(s_1\) has largest \(s_2\), and so on, among all integral flags at that point.

Take a row which represents a \(k\)-form.
Permuting the \(\omega^i\), we can get any polar in that row to appear in grade \(k-1\): \(\pi^{\alpha}\wedge\omega^{1\dots \, k-1}\).
If there is another polar in that row, say in grade \(\ell\), add a multiple of \(\omega^k\) to \(\omega^{\ell}\) to borrow it to grade \(k\).
Continue in this way: for one particular row, representing a \(k\)-form in \(\II\), we arrange polars in successive grades, starting at grade \(k-1\), all followed by any nonpolar entries in that row.

Write wedge products \(\omega^{i_1\dots i_q}\) with \(i_1<\dots<i_q\).
Order any two wedge products by last entry \(i_q\), then by next to last, and so on.
Borrow to have polars arising in sorted order before any other entries.

Since this occurs for some linear transformation of \(\omega^i\), it also occurs for all linear transformations of \(\omega^i\) except for those with certain minors vanishing.
We can thus borrow simultaneously for all rows, by generic linear transformation.
\begin{example}
\[
\Tablo{!*\pi^1,!0;0,\pi^1}
\wedge
\begin{gradedIndependents}
\emptyGrade
\pf^{12}\+
\pf^3
\end{gradedIndependents}
\]
has a polar appearing in grade \(2\).
Permuting indices \(1\) and \(3\):
\[
\Tablo{0,!\pi^1;*\pi^1,!0}
\wedge
\begin{gradedIndependents}
\pf^1\+
\pf^{23}
\end{gradedIndependents}
\]
puts it in grade \(1\).
\end{example}
The torsion is absorbable just when there is an integral element \(E=(\pi=p\omega)\).
Absorb the torsion by subtracting \(p\omega\) from \(\pi\).
Thus there is a torsion free tableau just when there is a generic torsion free tableau.
\begin{example}
Take a tableau
\[
\Tablo{*\pi^1,0;*\pi^2,*\pi^3}%
\wedge
\begin{pmatrix}
\omega^1 \\
\omega^2
\end{pmatrix}
+
\begin{pmatrix}
\freeDeriv{\pi^4}\wedge\pi^2\\
0
\end{pmatrix}
\]
with a polar in the nonlinearity.
Add \(\omega^2\) to \(\pi^2\) to get the polar to appear in the tableau:
\[
\Tablo{*\pi^1,*\pi^4;*\otpi^2,*\pi^3}%
\wedge
\begin{pmatrix}
\omega^1 \\
\omega^2
\end{pmatrix}
-
\begin{pmatrix}
0\\
\omega^{12}
\end{pmatrix}
+
\begin{pmatrix}
\pi^4\wedge\otpi^2\\
0
\end{pmatrix}.
\]
This produces torsion, but we can absorb it.
\end{example}
\begin{example}
\[
\begin{pmatrix}
\freeDeriv{\pi^1} & \freeDeriv{\pi^2}
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1 \\
\omega^2
\end{pmatrix}
+
\freeDeriv{\pi^3}\wedge\pi^2
\]
has a polar in the nonlinearity, but we absorb it by \(\otomega^2\defeq\omega^2-\pi^3\).
\end{example}
\begin{example}
Some tableaux have nonabsorbable polars in the nonlinearity:
\[
\begin{pmatrix}
\freeDeriv{\pi^1} & \freeDeriv{\pi^2} 
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1 \\ 
\omega^2
\end{pmatrix}
+\freeDeriv{\pi^3}\wedge\freeDeriv{\pi^4}.
\]
Any polar in the nonlinearity can be demoted to a new \(\omega^i\) \(1\)-form, but we won't need to do so.
\end{example}
\section{Integral elements}
\begin{example}
Picture a tableau
\[
\begin{tableau}
\freeDeriv{\pi^1} & \freeDeriv{\pi^4} & \freeDeriv{\pi^6} \\
\freeDeriv{\pi^2} & \freeDeriv{\pi^5} & \pi^1-\pi^5 \\
\freeDeriv{\pi^3} & \pi^2                   & \pi^1+\pi^2 \\ 
\pi^1-\pi^2             & 0                       & \pi^3 
\end{tableau}\wedge\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}.
\]
Take any \(3\)-dimensional linear subspace \(E\) of a tangent space of \(M\) coframed by \(\omega^1,\omega^2,\omega^3\) and on which \(\theta^a=0\).
Then \(E\) has coefficients \(\pi^1=p^1_1 \omega^1 + p^1_2 \omega^2 + p^1_3 \omega^3\) and so on.
Plug in to the tableau to find equations for integral elements.
Since \(\omega^{ij}=-\omega^{ji}\), each tableau entry in column \(i\) has coefficient of \(\omega^j\) exactly equal to the tableau entry in column \(j\) coefficient of \(\omega^i\):
\begin{align*}
p^1_2 &= p^4_1,          & p^1_3 &= p^6_1,           & p^4_3 &= p^6_2, \\
p^2_2 &= p^5_1,          & p^2_3 &= p^1_1-p^5_1,     & p^5_3 &= p^1_2-p^5_2, \\
p^3_2 &= p^2_1,          & p^3_3 &= p^1_1+p^2_1,     & p^2_3 &= p^1_2+p^2_2, \\
p^1_2-p^2_2 &= 0,        & p^1_3-p^2_3 &= p^3_1,     & 0 &= p^3_2.
\end{align*}
\end{example}
\begin{example}
Again imagine an exterior differential system generated by \(1\)-forms \(\theta^a\) and by \(3\)-forms of the form
\[
\omega^{12}\wedge\pi^1, \omega^{31}\wedge\pi^2, \omega^{23}\wedge\pi^3,
\]
with coframe \(\theta^a,\omega^i,\pi^{\alpha}\).
(E.g. triply orthogonal webs; see page~\pageref{page:triply.orthogonal.web}.)
The tableau:
\[
\Tablo{!0,!0,*\pi^1;0,*\pi^2,0;*\pi^3,0,0}(2,,3)[1,,2]
\wedge
\begin{gradedIndependents}
\emptyGrade
\omega^{12}\+
\omega^{13}\\ \omega^{23}
\end{gradedIndependents}
\]
\(3\)-dimensional integral elements:
\[
\begin{pmatrix}
\pi^1 \\
\pi^2 \\
\pi^3
\end{pmatrix}
=
\begin{pmatrix}
0 & p^1_2 & p^1_3 \\
p^2_1 & 0 & p^2_3 \\
p^3_1 & p^3_2 & 0
\end{pmatrix}
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}
\]
a \(6\)-dimensional space of integral elements at each point.
\[
s_1+2s_2+3s_3=0+2(1)+3(2)=8>6,
\]
involution fails.
\end{example}
\begin{example}
The same example, but borrow:
\[
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}
=
\begin{pmatrix}
\qf^1\\
\qf^2\\
\qf^1+\qf^2+\qf^3
\end{pmatrix},
\]
yielding tableau:
\[
\Tablo{!*-\pi^1,!0,\pi^3;*-\pi^2,\pi^2,0;*\pi^3,0,0}(2,,3)[3,,0]
\wedge
\begin{gradedIndependents}
\emptyGrade
\qf^{12}\+
\qf^{13}\\ 
\qf^{23}
\end{gradedIndependents}
\]
\[
s_1+2s_2+3s_3=0+2(3)+3(0)=6,
\]
involution: there are \(3\)-dimensional integral manifolds.
\end{example}

\prob{tableaux:nabla}{
Write the equation \(\nabla \times u=f-u\), which we unravel in detail~\vpageref{page:nabla.u.f.u}, as an exterior differential system.
Find a tableau.
Can you absorb torsion?
What submanifold contains the integral manifolds?
Is the exterior differential system in involution on that submanifold?}
\begin{answer}{tableaux:nabla}
Take \(\R[15]\) with coordinates \(x^i,u^i,u^i_j\) for \(i,j=1,2,3\).
Note that our differential equations, spelled out as algebraic equations
\begin{align*}
u^3_2-u^2_3 &= f^1 - u^1, \\
u^1_3-u^3_1 &= f^2 - u^2, \\
u^2_1-u^1_2 &= f^3 - u^3,
\end{align*}
cut out a submanifold \(M\subset\R[15]\) of dimension \(12\).
Take \(\omega^i\defeq dx^i\), \(\theta^i\defeq du^i-u^i_j \, dx^j\), and \(\pi^i_j\defeq du^i_j\).
It will help to denote \(\pderiv{f^i}{x^j}\) by \(f^i_j\).
The equations of \(M\) force \(3\) linear relations among the \(\pi^i_j\):
\[
du^3_2-du^2_3 = \left(f^1_i-u^1_i\right)dx^i,
\]
modulo \(\theta^1,\theta^2,\theta^3\), and so on, i.e.
\begin{align*}
\pi^2_3 &= \pi^3_2 - \left(f^1_i-u^1_i\right)\omega^i,\\
\pi^1_3 &= \pi^3_1 + \left(f^2_i-u^2_i\right)\omega^i,\\
\pi^1_2 &= \pi^2_1 - \left(f^3_i-u^3_i\right)\omega^i.
\end{align*}
Our tableau: modulo \(\theta^1,\theta^2,\theta^3\),
\begin{align*}
d
\begin{pmatrix}
\theta^1\\
\theta^2\\
\theta^3
\end{pmatrix}
&=
-
\begin{pmatrix}
\freeDeriv{\pi^1_1} & \pi^1_2 & \pi^1_3 \\
\freeDeriv{\pi^2_1} & \freeDeriv{\pi^2_2} & \pi^2_3 \\
\freeDeriv{\pi^3_1} & \freeDeriv{\pi^3_2} & \freeDeriv{\pi^3_3}
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}
\\
&=
-
\begin{pmatrix}
\freeDeriv{\pi^1_1} & \pi^2_1 & \pi^3_1 \\
\freeDeriv{\pi^2_1} & \freeDeriv{\pi^2_2} & \pi^3_2 \\
\freeDeriv{\pi^3_1} & \freeDeriv{\pi^3_2} & \freeDeriv{\pi^3_3}
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}+
\begin{pmatrix}
\tau^1\\
\tau^2\\
0
\end{pmatrix}
\end{align*}
where the torsion is
\[
\begin{pmatrix}
\tau^1\\
\tau^2
\end{pmatrix}
=
\begin{pmatrix}
f^3_1-u^3_1\\
0
\end{pmatrix}
\omega^{12}
+
\begin{pmatrix}
u^2_1-f^2_1\\
f^1_1-u^1_1
\end{pmatrix}
\omega^{13}
+
\begin{pmatrix}
u^2_2-f^2_2+u^3_3-f^3_3\\
f^1_2-u^1_2
\end{pmatrix}
\omega^{23}
\]
We can try to absorb torsion, for example by using
\[
\begin{pmatrix}
\otpi^1_1\\
\otpi^2_1\\
\otpi^2_2
\end{pmatrix}
\defeq
\begin{pmatrix}
\pi^1_1\\
\pi^2_1\\
\pi^2_2
\end{pmatrix}
+
\begin{pmatrix}
0&0&u^2_1-f^2_1\\
u^3_1-f^3_1&0&0\\
0&0&f^1_2-u^1_2
\end{pmatrix}
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix},
\]
which we denote as \(\pi\) instead of \(\otpi\) to simplify notation.
Our tableau: modulo \(\theta^1,\theta^2,\theta^3\),
\[
d
\begin{pmatrix}
\theta^1\\
\theta^2\\
\theta^3
\end{pmatrix}
=
-
\begin{pmatrix}
\freeDeriv{\pi^1_1} & \pi^2_1 & \pi^3_1 \\
\freeDeriv{\pi^2_1} & \freeDeriv{\pi^2_2} & \pi^3_2 \\
\freeDeriv{\pi^3_1} & \freeDeriv{\pi^3_2} & \freeDeriv{\pi^3_3}
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}
+
\begin{pmatrix}
u^i_i-f^i_i\\
0\\
0
\end{pmatrix}
\omega^{23}.
\]
The torsion is \(u^i_i-f^i_i\) (Einstein notation: implicitly summed over \(i\)).
Take the submanifold \(M'\subset M\) cut out by the equation \(u^i_i=f^i_i\).
For simplicity, denote this submanifold as \(M\) henceforth.
On \(M\), 
\[
0=d(u^i_i-f^i_i)=\pi^i_i-f^i_{ij}\omega^j.
\]
Our tableau: modulo \(\theta^1,\theta^2,\theta^3\),
\[
d
\begin{pmatrix}
\theta^1\\
\theta^2\\
\theta^3
\end{pmatrix}
=
-
\begin{pmatrix}
\freeDeriv{\pi^1_1} & \pi^2_1 & \pi^3_1 \\
\freeDeriv{\pi^2_1} & \freeDeriv{\pi^2_2} & \pi^3_2 \\
\freeDeriv{\pi^3_1} & \freeDeriv{\pi^3_2} & -\pi^1_1-\pi^2_2+f^i_{ij}\omega^j
\end{pmatrix}
\wedge
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}.
\]
Let
\[
\begin{pmatrix}
\otpi^3_1\\
\otpi^3_2
\end{pmatrix}
=
\begin{pmatrix}
\pi^3_1\\
\pi^3_2
\end{pmatrix}
-
\begin{pmatrix}
f^i_{i1} \\
f^i_{i2}
\end{pmatrix}
\omega^3,
\]
and once again just write these as \(\pi\) instead of \(\otpi\).
Our tableau: modulo \(\theta^1,\theta^2,\theta^3\),
\[
d
\begin{pmatrix}
\theta^1\\
\theta^2\\
\theta^3
\end{pmatrix}
=
-%
\Tablo{%
*\pi^1_1,\pi^2_1,\pi^3_1;%
*\pi^2_1,*\pi^2_2,\pi^3_2;%
*\pi^3_1,*\pi^3_2,-\pi^1_1-\pi^2_2}[3,2,0]
\wedge
\begin{pmatrix}
\omega^1\\
\omega^2\\
\omega^3
\end{pmatrix}.
\]
Integral elements \(\pi^i_j=p^i_{jk}\omega^k\).
We highlight certain coefficients, to be discussed in chapter~\ref{chapter:test}:
\begin{adjustwidth}{3.5cm}{3.5cm}
\begin{align*}
\freeDeriv{p^1_{12}}&=p^2_{11}\tag{1}\\
\freeDeriv{p^1_{13}}&=p^3_{11}\tag{2}\\
\freeDeriv{p^2_{13}}&=\freeDeriv{p^3_{12}}\tag{3}\\
\freeDeriv{p^2_{12}}&=p^2_{21}\tag{4}\\
\freeDeriv{p^2_{13}}&=p^3_{21}\tag{5}\\
\freeDeriv{p^3_{12}}&=p^3_{21}\tag{6}\\
\freeDeriv{p^3_{13}}&=-p^1_{11}-p^2_{21}\tag{7}\\
\freeDeriv{p^3_{23}}&=-\freeDeriv{p^1_{12}}-p^2_{22}.\tag{8}
\end{align*}
\end{adjustwidth}
These coefficients are solved for in terms of others, except for the 3rd and 8th equations.
But we use the 6th equation to fix up the 3rd, and the 1st equation to fix up the 8th, to solve for highlighted coefficients in terms of others.
Hence the space of integral elements at each point of the \(11\)-dimensional manifold \(M'\) has dimension given by counting the other coefficients: \(7\) dimensions of integral element at each point.
Involution, with the general solution depending on \(2\) functions of \(2\) variables.
\end{answer}

\optionalSection{Example: Lie's third theorem}%
In this section we assume familiarity with Lie groups \cite{Stillwell:2008}.\SubIndex{Lie group}
Lie's\define{Lie's third theorem}\define{theorem!Lie's third} third theorem: every Lie algebra \(\mathfrak{g}\), say of dimension \(p\), is isomorphic to a Lie algebra of vector fields spanning every tangent space on a \(p\)-dimensional manifold.
This theorem is a first step in constructing a Lie group with a given Lie algebra.
Since we employ differential forms, it is easier for us to prove the dual statement about the dual \(1\)-forms to those vector fields.
A \emph{Maurer--Cartan form}\define{Maurer--Cartan form} is a \(1\)-form \(\xi\) valued in a Lie algebra \(\mathfrak{g}\), defined on an open subset \(U\subset\R[p]\), so that, at every point \(x\in U\), \(\xi_x \colon \R[p] \to \mathfrak{g}\) is a linear isomorphism and \(d\xi+\frac{1}{2}\lb{\xi}{\xi}=0\).
\prob{tableaux:Lies.III}{Explain how a Maurer--Cartan form determines such vector fields and vice versa.}
\begin{theorem}[Lie \Romanbar{3}]
Any Lie algebra has a Maurer--Cartan form.
\end{theorem}
\begin{proof}
Choose a basis \(e_1,\dots,e_p\in\mathfrak{g}\) and write out the Lie bracket in the basis: \(\lb{e_i}{e_j}=c^k_{ij}e_k\).
Any such \(\xi\) will then be \(\xi=\xi^ie_i\), for a coframing \(\xi^i=g^i_j(x)dx^j\), with \(g^i_j(x)\) an invertible matrix for each \(x\in U\).
We want these \(\xi^i\) to satisfy \(0=d\xi^i+\frac{1}{2}c_i^{jk} \xi^j\wedge\xi^k\).
Let \(M\defeq \R[p] \times \GL{p,\R}\) with coordinates \(x^i,g^i_j\).
Take the exterior differential system \(\II\) generated by the components \(\vartheta^i\) of the \(2\)-form
\[
\vartheta=d(g\, dx) + \frac{1}{2}\lb*{g \, dx}{g \, dx}.
\]
\prob{tableax:check.closed}{Use the Jacobi\SubIndex{Jacobi identity} identity, either in components or directly, to see that \(0=d\vartheta\).}
Let \(\omega^i\defeq dx^i\).
\prob{tableaux:compute.quad}{If we want \(\vartheta^i = \pi^i_j \wedge \omega^j\), then 
\(\pi^i_j=dg^i_j+q^i_{jk}(c)dx^k\) where \(q=q(c)\) is some quadratic polynomial expression in the coefficients \(c^k_{ij}\).
Prove this by computing \(q(c)\).}
\begin{answer}{tableaux:compute.quad}
\(q^i_{jk} = c^i_{m\ell}(g^m_kg^{\ell}_j-g^m_jg^{\ell}_k)\)
\end{answer}
\[
\begin{pmatrix}
\vartheta^1\\
\vartheta^2\\
\vdots\\
\vartheta^p
\end{pmatrix}
=
\Tablo{%
*\pi^1_1,*\pi^1_2,.,*\pi^1_p;
*\pi^2_1,*\pi^2_2,.,*\pi^2_p;
\vdots,\vdots,.,\vdots;
*\pi^p_1,*\pi^p_2,.,*\pi^p_p}%
(1,2,.,p)[p,p,.,p]
\wedge
\begin{pmatrix}
\omega^1 \\
\omega^2 \\
\vdots\\
\omega^p
\end{pmatrix}.
\]
Integral elements of dimension \(p\): \(\pi^i_j=p^i_{jk}\omega^k\) with \(p^i_{jk}=p^i_{kj}\), so the space of integral elements has dimension \(\dim M+p(p+1)/2\): involution.
\end{proof}
\prob{tableaux:Lie.III.unique}{Uniqueness: prove that any two Maurer--Cartan forms for the same Lie algebra are locally identified by a diffeomorphism.}

\optionalSection{Example: surface invariants}%
\label{section:surface.invariants}%
We suppose that the reader has read appendix~\ref{chapter:moving.frame}.
Does every quadratic form on a plane through a point arise as the shape operator on the tangent plane of some surface?
If we had such a surface, its adapted frame bundle would satisfy
\begin{align*}
\omega_3&=0,\\
\gamma_{13}&=a_{11}\omega_1+a_{12}\omega_2,\\
\gamma_{23}&=a_{21}\omega_1+a_{22}\omega_2,
\end{align*}
with \(a_{ij}=a_{ji}\).
Let \(V\) be the set of all symmetric \(2 \times 2\) matrices, with typical element written as
\[
a=
\begin{pmatrix}
a_{11} & a_{12} \\
a_{21} & a_{22}
\end{pmatrix}.
\]
On the manifold \(V \times \frameBundleE{3}\), take the exterior differential system \(\II\) generated by 
\[
\omega_3,\gamma_{13}-a_{11}\omega_1-a_{12}\omega_2,\gamma_{23}-a_{21}\omega_1-a_{22}\omega_2.
\]
Every surface in \(\E[3]\) has frame bundle an integral manifold.
\begin{problem}{apply.eds:check.lift}
Prove that any \(\II\)-integral manifold coframed by \(\omega_1,\omega_2,\gamma_{12}\) is locally the frame bundle of a surface.
\end{problem}
Summing over \(i,j,k,\ell=1,2\), let
\[
Da_{ij} \defeq da_{ij} -a_{ik}\gamma_{kj}-a_{jk}\gamma_{ki},
\]
\[
d
\begin{pmatrix}
\omega_3\\
\gamma_{13}-a_{11}\omega_1-a_{12}\omega_2\\
\gamma_{23}-a_{21}\omega_1-a_{22}\omega_2
\end{pmatrix}
=
\Tablo{0,0,0;*Da_{11},Da_{12},0;*Da_{12},*Da_{22},0}[2,1,0]
\wedge
\begin{pmatrix}
\omega_1\\
\omega_2\\
\gamma_{12}
\end{pmatrix},
\]
Integral elements coframed by \(\omega_1,\omega_2,\gamma_{12}\) are
\[
Da_{ij}=a_{ijk}\omega_k+A_{ij}\gamma_{12}.
\]
Plug into the tableau: integral elements have \(a_{ijk}\) symmetric in all \(3\) indices, and \(A_{ij}=0\).
Each integral element is identified with \(\thirdFundForm\defeq e_3 a_{ijk} \omega_i\omega_j\omega_k\), the third fundamental form on any integral manifold arising from a surface.
The space of integral elements is \(4\)-dimensional at each point of our manifold, involution: there is an integral manifold coframed by \(\omega_1,\omega_2,\gamma_{12}\) through every point of \(V \times \frameBundleE{3}\).
\begin{theorem}
Shape operators are arbitrary.
To be precise, take a point of \(\E[3]\), a plane through that point, a symmetric bilinear form and a symmetric trilinear form on that plane, valued in the perpendicular line.
There is a surface in \(\E[3]\) through that point, tangent to that plane, and with that bilinear form as shape operator and that trilinear form as third fundamental form.
\end{theorem}
\begin{problem}{tableaux:generic.surface}
Prove that there are surfaces in \(3\)-dimensional Euclidean space preserved by no rigid motions except the identity.
\end{problem}
\begin{answer}{tableaux:generic.surface}
Choose the third fundamental form so that the Gauss curvature and the squared mean curvature have linearly independent differentials.
Replace the surface by an open subset on which the Gauss curvature and the squared mean curvature are global coordinates invariant under rigid motion of the surface.
Pick the eigenvalues so that the mean curvature is not zero; the surface is not symmetric under reflection in the tangent plane.
So rigid motions fix every point of the surface, and also fix a normal direction, so are trivial.
\end{answer}
\begin{problem}{tableaux:triply.orth}
Are the shape operators of the leaves of a triply orthogonal web arbitrary?
\end{problem}

